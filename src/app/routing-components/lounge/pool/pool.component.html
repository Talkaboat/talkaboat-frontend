<div *ngIf="poolInfo">
  <button class="w-full h-full p-5 btn" (click)="toggleState()">
    <h4 class="flex justify-between gap-5 text-left">
      <div class="flex w-full">
        <div class="flex justify-start h-full mr-3">
          <img class="w-[2.4rem] my-auto" [src]="getTokenIcon(poolInfo.tokenA?.symbol)">
          <img *ngIf="poolInfo.tokenB" class="w-[2.4rem] my-auto -ml-[1rem]"
            [src]="getTokenIcon(poolInfo.tokenB?.symbol)">
        </div>
        <div class="w-full">
          <p>
            <span *ngFor="let symbol of this.poolInfo.symbols; let i = index">{{symbol}}<span
                *ngIf="this.poolInfo.symbols?.length == 2 && i == 0">-</span></span>
            <span *ngIf="this.poolInfo.symbols?.length == 2"> LP</span>
          </p>
          <div class="text-[1.2rem] flex justify-between">
            <span class="pr-3" *ngIf="poolInfo.apr">{{ poolInfo.apr }}% APR</span>

            <span class="pr-3" *ngIf="poolInfo.apr">{{ poolInfo.lockPeriod }} {{ 'days' | translate}}</span>
          </div>
        </div>
      </div>


      <div class="px-3 flex">
        <div class="my-auto" *ngIf="gotWallet">
          <svg *ngIf="!isOpen" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="caret-down"
            class="w-10 h-10 my-auto ml-2 rounded-[1rem]" role="img" xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 320 512">
            <path fill="currentColor"
              d="M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z">
            </path>
          </svg>
          <svg *ngIf="isOpen" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="caret-up"
            class="w-10 h-10 my-auto ml-2 rounded-[1rem]" role="img" xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 320 512">
            <path fill="currentColor"
              d="M288.662 352H31.338c-17.818 0-26.741-21.543-14.142-34.142l128.662-128.662c7.81-7.81 20.474-7.81 28.284 0l128.662 128.662c12.6 12.599 3.676 34.142-14.142 34.142z">
            </path>
          </svg>
        </div>
        <div class="my-auto rounded-[1rem] p-3 text-[1.4rem]  bg-shadow-300" *ngIf="!gotWallet">
          {{ 'connect_wallet' | translate }}
        </div>
      </div>
    </h4>
  </button>

  <!-- Collapsable Area -->
  <div [class.open]="isOpen" class="overflow-hidden h-0 transition-all duration-500 rounded-[1rem] bg-shadow-600">
    <!-- Stake/Unstake -->
    <div class="flex justify-between m-5 p-5 bg-shadow-700">
      <div>
        <h6>
          <span *ngFor="let symbol of this.poolInfo.symbols; let i = index">{{symbol}}<span
              *ngIf="this.poolInfo.symbols?.length == 2 && i == 0">-</span></span>
          <span *ngIf="this.poolInfo.symbols?.length == 2"> LP</span>
          <span> Staked</span>
        </h6>
        <p>
          {{ poolInfo.depositedCoins }}
        </p>
      </div>

      <div class="flex justify-between w-full max-w-[7rem]">
        <button *ngIf="!poolInfo.allowance || (poolInfo.allowance | bigEqualizer: 0 : 'lte'); else hasAllowance"
          class="rounded-[1rem] px-4 bg-shadow-300" (click)="approve()"> {{ 'approve' | translate }}</button>
        <ng-template #hasAllowance>
          <button class="rounded-[1rem] px-4 text-[2.6rem] bg-shadow-300">+</button>
          <button class="rounded-[1rem] px-4 text-[2.6rem] pb-1 bg-shadow-300">-</button>
        </ng-template>
      </div>
    </div>
    <div class="flex justify-between m-5 p-5 bg-shadow-700">
      <div>
        <h6>
          <span>ABOAT {{ 'earned'  | translate }}</span>
        </h6>
        <p>
          {{ poolInfo.pending }}
        </p>
      </div>

      <div class="flex justify-between w-full max-w-[7rem]">
        <button [class.hidden]="!poolInfo.pending || (poolInfo.pending | bigEqualizer: 0 : 'lte')"
          class="rounded-[1rem] px-4 bg-shadow-300" (click)="claim()"> {{ 'claim' | translate }}</button>
      </div>
    </div>
  </div>

</div>
