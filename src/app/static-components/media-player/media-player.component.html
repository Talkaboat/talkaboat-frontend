<vg-player class="font-sans z-30" (onPlayerReady)="onPlayerReady($event)">
  <vg-controls>

    <div [class.minimized]="mediaPlayerState == 'MINIMIZED'"
      class="z-30 fixed overflow-hidden rounded-2xl shadow-shadow-500 shadow-md inset-x-5 m-[0%_auto] bottom-[1rem] max-w-[500px] md:max-w-screen-sm h-20 md:h-[10rem] transition-all ease-in-out duration-500">
      <div tab-index="0" class="grid grid-cols-4 place-items-center overflow-hidden h-full bg-shadow-700 ">
        <vg-scrub-bar class="col-span-4 absolute scrub-bar-height place-items-start">
          <vg-scrub-bar-current-time class="bg-[#333]"></vg-scrub-bar-current-time>
          <vg-scrub-bar-buffering-time class=""></vg-scrub-bar-buffering-time>
        </vg-scrub-bar>
        <div id="media-player-body" class="col-span-4 grid grid-cols-4 h-full place-items-center pt-2">
          <div id="play-area"
            class="w-full max-w-[160px] place-self-start self-center grid grid-cols-3 place-items-center pl-5">
            <button class="scrub-button hide-minimized " aria-label="backward" (click)="backward()">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                <path
                  d="M77.25 256l137.4-137.4c12.5-12.5 12.5-32.75 0-45.25s-32.75-12.5-45.25 0l-160 160c-12.5 12.5-12.5 32.75 0 45.25l160 160C175.6 444.9 183.8 448 192 448s16.38-3.125 22.62-9.375c12.5-12.5 12.5-32.75 0-45.25L77.25 256zM269.3 256l137.4-137.4c12.5-12.5 12.5-32.75 0-45.25s-32.75-12.5-45.25 0l-160 160c-12.5 12.5-12.5 32.75 0 45.25l160 160C367.6 444.9 375.8 448 384 448s16.38-3.125 22.62-9.375c12.5-12.5 12.5-32.75 0-45.25L269.3 256z" />
              </svg>
            </button>
            <button *ngIf="!isPlaying" class="play-pause-button" aria-label="play" (click)="play()">
              <svg class="ml-1 md:ml-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
                <path
                  d="M361 215C375.3 223.8 384 239.3 384 256C384 272.7 375.3 288.2 361 296.1L73.03 472.1C58.21 482 39.66 482.4 24.52 473.9C9.377 465.4 0 449.4 0 432V80C0 62.64 9.377 46.63 24.52 38.13C39.66 29.64 58.21 29.99 73.03 39.04L361 215z" />
              </svg>
            </button>
            <button *ngIf="isPlaying" class="play-pause-button" aria-label="pause" (click)="pause()">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">
                <path
                  d="M272 63.1l-32 0c-26.51 0-48 21.49-48 47.1v288c0 26.51 21.49 48 48 48L272 448c26.51 0 48-21.49 48-48v-288C320 85.49 298.5 63.1 272 63.1zM80 63.1l-32 0c-26.51 0-48 21.49-48 48v288C0 426.5 21.49 448 48 448l32 0c26.51 0 48-21.49 48-48v-288C128 85.49 106.5 63.1 80 63.1z" />
              </svg>
            </button>
            <button class="scrub-button hide-minimized" aria-label="forward" (click)="forward()">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                <path
                  d="M246.6 233.4l-160-160c-12.5-12.5-32.75-12.5-45.25 0s-12.5 32.75 0 45.25L178.8 256l-137.4 137.4c-12.5 12.5-12.5 32.75 0 45.25C47.63 444.9 55.81 448 64 448s16.38-3.125 22.62-9.375l160-160C259.1 266.1 259.1 245.9 246.6 233.4zM438.6 233.4l-160-160c-12.5-12.5-32.75-12.5-45.25 0s-12.5 32.75 0 45.25L370.8 256l-137.4 137.4c-12.5 12.5-12.5 32.75 0 45.25C239.6 444.9 247.8 448 256 448s16.38-3.125 22.62-9.375l160-160C451.1 266.1 451.1 245.9 438.6 233.4z" />
              </svg>
            </button>
          </div>
          <div id="track-area" class="col-span-2">
            <div class="flex justify-between">
              <div tab-index="0" class="track-cover hidden md:block mr-4 rounded-lg overflow-hidden">
                <img class="object-cover object-center aspect-square w-[8rem]"
                  [alt]="currentTrack.title_original + ' portrait'" [src]="currentTrack.image" />
              </div>
              <div class="track-meta item-body">
                <div class="track-title ">
                  <a class="font-semibold" tabindex="0">{{ currentTrack.title_original }}</a>
                </div>
                <div class="track-podcast hide-minimized">
                  <a class="" tabindex="0">{{ currentTrack.podcast.title_original }}</a>
                </div>
              </div>
            </div>
          </div>
          <div id="controls-area" class="grid grid-cols-1 place-self-end self-start pr-5">
            <div>
              <vg-volume class="hidden md:flex"></vg-volume>
            </div>
          </div>
        </div>
      </div>
    </div>
  </vg-controls>

  <audio #myMedia [vgMedia]="$any(myMedia)" id="audio" src="{{currentTrack.audio}}" type="audio/mp3"
    [attr.autoplay]="initialized ? '' : null">
  </audio>
</vg-player>
